<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ user.username }}'s Profile</title>
</head>
<body>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div style="background-color: #d4edda; color: #155724; padding: 10px; margin-bottom: 20px; border: 1px solid #c3e6cb; border-radius: 5px; text-align: center;">
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px;">
        <h1>Hi, {{ user.first_name }}!</h1>
        <a href="{{ url_for('main.index') }}">Logout</a>
    </div>

    <hr>

    <div style="text-align: center; margin: 40px;">
        <h3>How are you feeling right now?</h3>
        <a href="{{ url_for('main.journal') }}">
            <button style="padding: 15px 30px; font-size: 18px; cursor: pointer;">
                Write New Journal Entry
            </button>
        </a>
    </div>

    <div style="margin: 20px;">
        <h3>Your History</h3>

        {% if entries %}
            <ul>
                {% for entry in entries %}
                    <li>
                        <a href="{{ url_for('main.entry_detail', entry_id=entry.id) }}">
                            <strong>{{ entry.created_at.strftime('%Y-%m-%d') }}:</strong>
                            {{ entry.content[:50] }}...
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>You haven't written any entries yet. Start today!</p>
        {% endif %}
    </div>

</body>
</html>